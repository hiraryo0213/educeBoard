!function(t){function a(t){var a,e,r=["ms","webkit","moz"],n={},o=r.length;for(a in t){for(e=0;o>e;e++)n["-"+r[e]+"-"+a]=t[a];n[a]=t[a]}return n}{var e="libDragAndDrop";t("body")}$window=t(window);var r={initialize:function(a){return this.each(function(){t(this).data(e,t.extend(!0,{$dragObject:t(this).find("[data-"+e+'-parts="dragObject"]'),dragObjectAttr:"data-"+e+'-parts="dragObject"',dragFeild:{width:t(this).innerWidth(),height:t(this).innerHeight()},moveThisOffset:null,startX:null,startY:null,moveX:0,moveY:0,endX:null,endY:null,Xmode:!1,Ymode:!1,$target:t(this),draggingClass:"elDragging",dragStartBefore:null,dragStartAfter:null,dragging:null,dragEndBefore:null,dragEndAfter:null},a));{var n=t(this);n.data(e)}r.eventSet.apply(n)})},eventSet:function(){{var a=t(this),n=a.data(e);n.$dragObject}a.on("mousedown."+e,"["+n.dragObjectAttr+"]",function(t){t.preventDefault(),n.$target.toggleClass(n.draggingClass,!0),r.dragStart.apply(a)})},dragStart:function(){var a=t(this),n=a.data(e),o=n.$dragObject;r.applyCallback.apply([a,"dragStartBefore"]),n.startX=o.offset().left,n.startY=o.offset().top,r.applyCallback.apply([a,"dragStartAfter"]),r.dragging.apply(a)},dragging:function(){var n=t(this),o=n.data(e),d=o.$dragObject,i=o.startX,l=o.startY,s=i,g=l,f=n.offset(),p=d.outerWidth(),u=d.outerHeight(),c=o.dragFeild.width-p,h=o.dragFeild.height-u,m=l-f.top,y=i-f.left;o.moveThisOffset=f,$window.on("mousemove."+e,function(t){s=t.pageX-i-.5*p,g=t.pageY-l-.5*u,y+s>=c?s=c-y:0>y+s&&(s=-y),m+g>=h?g=h-m:0>m+g&&(g=-m),o.Xmode&&(g=0),o.Ymode&&(s=0),d.css(a({transform:"translate("+s+"px,"+g+"px)"})),r.applyCallback.apply([n,"dragging"])}),r.dragEnd.apply(n)},dragEnd:function(){var n=t(this),o=n.data(e),d=o.$dragObject,i=null,l=0,s=0,g=d.outerWidth(),f=d.outerHeight(),p=o.moveThisOffset;r.applyCallback.apply([n,"dragEndBefore"]),$window.on("mouseup."+e,function(){return $window.off("mouseup."+e),$window.off("mousemove."+e),o.$target.toggleClass(o.draggingClass,!1),i=n.offset(),i.top!=p.top||i.left!=p.left?void d.css(a({transform:""})):(o.endX=d.offset().left,o.endY=d.offset().top,l=o.endY-i.top+.5*f,s=o.endX-i.left+.5*g,o.Xmode||o.Ymode?!o.Xmode&&o.Ymode?d.css(a({transform:""})).css({top:l+"px"}):o.Xmode&&!o.Ymode&&d.css(a({transform:""})).css({left:s+"px"}):d.css(a({transform:""})).css({top:l+"px",left:s+"px"}),void r.applyCallback.apply([n,"dragEndAfter"]))})},applyCallback:function(){var a=t(this)[0],r=a.data(e),n=t(this)[1];"function"==typeof r[n]&&r[n]()},destroy:function(){{var a=t(this);a.data(e)}}};t.fn[e]=function(t){return r[t]?r[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void 0:r.initialize.apply(this,arguments)}}(jQuery);